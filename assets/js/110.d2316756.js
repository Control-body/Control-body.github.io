(window.webpackJsonp=window.webpackJsonp||[]).push([[110],{512:function(s,a,t){"use strict";t.r(a);var n=t(56),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"项目部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#项目部署"}},[s._v("#")]),s._v(" 项目部署")]),s._v(" "),t("p",[s._v("参考文章：https://www.bilibili.com/read/cv16179200")]),s._v(" "),t("p",[s._v("需要 Linux 服务器（建议大家用 CentOS 8+ / 7.6 以上）")]),s._v(" "),t("h3",{attrs:{id:"原始部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#原始部署"}},[s._v("#")]),s._v(" 原始部署")]),s._v(" "),t("ul",[t("li",[s._v("打包jar文件；\n"),t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-430daa0c8d7044cf870462052c91d50d.png",alt:"image.png"}})])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-3a77f4855d96480b812a57d43da5787f.png",alt:"image.png"}})]),s._v(" "),t("ul",[t("li",[s._v("前端\n使用 build 插件生成 dist 静态文件（上传到服务器，配置nginx 进项访问）\n需要在服务器上，自己安装nginx ，然后配置nginx，")]),s._v(" "),t("li",[s._v("注意： nginx的配置文件不是你自己下载的配置文件； 需要到那个\n配置文件中修改，才会生效；\n"),t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-96c191c83e25449cbcbe3648785ef6f5.png",alt:"image.png"}})])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-a92907ca9da94dd69452c11ae4c8940d.png",alt:"image.png"}})]),s._v(" "),t("h4",{attrs:{id:"前端"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#前端"}},[s._v("#")]),s._v(" 前端")]),s._v(" "),t("p",[s._v("需要 web 服务器："),t("strong",[s._v("nginx")]),s._v(" 、apache、tomcat")]),s._v(" "),t("p",[s._v("安装 nginx 服务器：")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("用系统自带的软件包管理器快速安装，比如 centos 的 yum")])]),s._v(" "),t("li",[t("p",[s._v("自己到官网安装（参考文章）")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -o nginx-1.21.6.tar.gz http://nginx.org/download/nginx-1.21.6.tar.gz\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zxvf nginx-1.21.6.tar.gz   解压上传的nginx压缩包\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" nginx-1.21.6\n\n   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("37")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2022")]),s._v("-04-17 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":30:09 yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" pcre pcre-devel -y\n   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("39")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2022")]),s._v("-04-17 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":30:59 yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" openssl openssl-devel -y\n   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("41")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2022")]),s._v("-04-17 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:57 ./configure --with-http_ssl_module --with-http_v2_module --with-stream\n   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("42")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2022")]),s._v("-04-17 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":32:13 "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("43")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2022")]),s._v("-04-17 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":32:54 "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("48")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2022")]),s._v("-04-17 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":33:40 "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" /usr/local/nginx/sbin/nginx\n   "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/profile     配置环境变量 \n  在最后一行添加：export "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v(":/usr/local/nginx/sbin\t\n  \n  nginx\n  \n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("netstat")]),s._v(" -ntlp 查看启动情况\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br")])]),t("p",[s._v("注意 nginx 权限")])])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-3e443c17c51642a99e1c181ad9a169a7.png",alt:"image.png"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-ef08e35925f240cabcb1d391614980ad.png",alt:"image.png"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-313875f2a84c461dbff389772dc86d2f.png",alt:"image.png"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-5cb8b70070b24654ac351905402b6f26.png",alt:"image.png"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-b2b2f86f1ef54cc2ae8ab03a9882b73f.png",alt:"image.png"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-6274c5637daf449cbe4aa1672d88e3ec.png",alt:"image.png"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-2b31378b734a4b5098a83b37210ef479.png",alt:"image.png"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-184d4f7ad18d4cebb4d338b60716d149.png",alt:"image.png"}})]),s._v(" "),t("h4",{attrs:{id:"后端"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#后端"}},[s._v("#")]),s._v(" 后端")]),s._v(" "),t("p",[s._v("java、maven")]),s._v(" "),t("p",[s._v("安装：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y java-1.8.0-openjdk*\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -o apache-maven-3.8.5-bin.tar.gz https://dlcdn.apache.org/maven/maven-3/3.8.5/binaries/apache-maven-3.8.5-bin.tar.gz\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone xxx 下载代码\n\n打包构建，跳过测试\nmvn package -DskipTests\n\njava -jar ./user-center-backend-0.0.1-SNAPSHOT.jar --spring.profiles.active"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("prod    （这个命令是在前端运行，很容易掉线，同时也不能进行其他的操作）\n "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("nohup")]),s._v(" java -jar user-center-0.0.1-SNAPSHOT.jar --spring.profiles.active"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("prod "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("   （在后端运行程序）\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("h3",{attrs:{id:"宝塔-linux-部署-最常用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#宝塔-linux-部署-最常用"}},[s._v("#")]),s._v(" 宝塔 Linux 部署 （最常用）")]),s._v(" "),t("p",[s._v("Linux 运维面板")]),s._v(" "),t("p",[s._v("官方安装教程：https://www.bt.cn/new/download.html")]),s._v(" "),t("p",[s._v("方便管理服务器、方便安装软件")]),s._v(" "),t("h4",{attrs:{id:"_1-前端"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-前端"}},[s._v("#")]),s._v(" 1.前端")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-85e4c4eee540483daab6d78d7f4b3acf.png",alt:"image.png"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-31b6ff44f5484c909d74dc82778ae805.png",alt:"image.png"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-a8845ffee1e2448ea85521283453a6f4.png",alt:"image.png"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-89c39dd85d154e1783680c3060724686.png",alt:"image.png"}})]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("# 跨域配置\nlocation  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("api"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    proxy_pass http"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("api"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    add_header '"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Access")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Control")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Allow")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Origin")]),s._v("' $http_origin"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    add_header '"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Access")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Control")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Allow")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Credentials")]),t("span",{pre:!0,attrs:{class:"token char"}},[s._v("' '")]),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("'"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    add_header "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Access")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Control")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Allow")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Methods")]),s._v(" 'GET"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" POST"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" OPTIONS'"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    add_header "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Access")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Control")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Allow")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Headers")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token char"}},[s._v("'*'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("$request_method "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 'OPTIONS'"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        add_header '"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Access")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Control")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Allow")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Credentials")]),t("span",{pre:!0,attrs:{class:"token char"}},[s._v("' '")]),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("'"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        add_header '"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Access")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Control")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Allow")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Origin")]),s._v("' $http_origin"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        add_header '"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Access")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Control")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Allow")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Methods")]),t("span",{pre:!0,attrs:{class:"token char"}},[s._v("' '")]),s._v("GET"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" POST"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" OPTIONS'"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        add_header '"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Access")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Control")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Allow")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Headers")]),t("span",{pre:!0,attrs:{class:"token char"}},[s._v("' '")]),s._v("DNT"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("User")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Agent")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("X")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Requested")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("With")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("If")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Modified")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Since")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Cache")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Control")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Content")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Range")]),s._v("'"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        add_header '"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Access")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Control")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Max")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Age")]),s._v("' "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1728000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        add_header '"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Content")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Type")]),t("span",{pre:!0,attrs:{class:"token char"}},[s._v("' '")]),s._v("text"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("plain"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" charset"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("utf"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("'"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        add_header '"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Content")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Length")]),s._v("' "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("204")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-8755f47dfbbf478da1e74d763d7af3bc.png",alt:"image.png"}})]),s._v(" "),t("h4",{attrs:{id:"_2-后端"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-后端"}},[s._v("#")]),s._v(" 2.后端")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-642a17c1896c4cb2ae28d26482c00b8d.png",alt:"image.png"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-c6e689a982da4e8e812077cf82e43ae2.png",alt:"image.png"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-bc34ee97c3ba48c1bf70f4536209f0b3.png",alt:"image.png"}})]),s._v(" "),t("p",[s._v("放进服务器注意修改 数据库链接值：")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("    url"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" jdbc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("mysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("localhost"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("user_center"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v("serverTimezone"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("UTC"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("useUnicode"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("characterEncoding"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("utf"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("useSSL"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"前端托管"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#前端托管"}},[s._v("#")]),s._v(" 前端托管")]),s._v(" "),t("p",[s._v("前端腾讯云 web 应用托管（比容器化更傻瓜式，不需要自己写构建应用的命令，就能启动前端项目）")]),s._v(" "),t("blockquote",[t("p",[s._v("https://console.cloud.tencent.com/webify/new")])]),s._v(" "),t("ul",[t("li",[s._v("小缺点：需要将代码放到代码托管平台上")]),s._v(" "),t("li",[s._v("优势：不用写命令、代码更新时自动构建")])]),s._v(" "),t("h3",{attrs:{id:"docker-部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-部署"}},[s._v("#")]),s._v(" Docker 部署")]),s._v(" "),t("p",[s._v("docker 是容器，可以将项目的环境（比如 java、nginx）和项目的代码一起打包成镜像，所有同学都能下载镜像，更容易分发和移植。")]),s._v(" "),t("p",[s._v("再启动项目时，不需要敲一大堆命令，而是直接下载镜像、启动镜像就可以了。")]),s._v(" "),t("p",[s._v("docker 可以理解为软件安装包。")]),s._v(" "),t("p",[s._v("Docker 安装：https://www.docker.com/get-started/ 或者宝塔安装")]),s._v(" "),t("p",[s._v("Dockerfile 用于指定构建 Docker 镜像的方法")]),s._v(" "),t("p",[s._v("Dockerfile 一般情况下不需要完全从 0 自己写，建议去 github、gitee 等托管平台参考同类项目（比如 springboot）")]),s._v(" "),t("p",[s._v("Dockerfile 编写：")]),s._v(" "),t("ul",[t("li",[s._v("FROM 依赖的基础镜像")]),s._v(" "),t("li",[s._v("WORKDIR 工作目录")]),s._v(" "),t("li",[s._v("COPY 从本机复制文件")]),s._v(" "),t("li",[s._v("RUN 执行命令")]),s._v(" "),t("li",[s._v("CMD / ENTRYPOINT（附加额外参数）指定运行容器时默认执行的命令")])]),s._v(" "),t("p",[s._v("根据 Dockerfile 构建镜像：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 后端")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" build -t user-center-backend:v0.0.1 "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 前端")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" build -t user-center-front:v0.0.1 "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看生成的镜像文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" images  \n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看运行了那些docker容器")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("p",[s._v("Docker 构建优化：减少尺寸、减少构建时间（比如多阶段构建，可以丢弃之前阶段不需要的内容）")]),s._v(" "),t("p",[s._v("docker run 启动：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 前端")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v(":80 -d user-center-frontend:v0.0.1\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 后端")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v(":8080 user-center-backend:v0.0.1\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("虚拟化")]),s._v(" "),t("ol",[t("li",[s._v("端口映射：把本机的资源（实际访问地址）和容器内部的资源（应用启动端口）进行关联")]),s._v(" "),t("li",[s._v("目录映射：把本机的端口和容器应用的端口进行关联")])]),s._v(" "),t("p",[s._v("进入容器：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" -i -t  fee2bbb7c9ee /bin/bash\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("查看进程：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("查看日志：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" logs -f "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("container-id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("杀死容器：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("强制删除镜像：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" rmi -f\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"docker-平台部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-平台部署"}},[s._v("#")]),s._v(" Docker 平台部署")]),s._v(" "),t("p",[s._v("就是直接上传自己生成好的docker镜像文件")]),s._v(" "),t("ol",[t("li",[s._v("云服务商的容器平台（腾讯云、阿里云）")]),s._v(" "),t("li",[s._v("面向某个领域的容器平台（前端 / 后端微信云托管）"),t("strong",[s._v("要花钱！")])])]),s._v(" "),t("p",[s._v("容器平台的好处：")]),s._v(" "),t("ol",[t("li",[s._v("不用输命令来操作，更方便省事")]),s._v(" "),t("li",[s._v("不用在控制台操作，更傻瓜式、更简单")]),s._v(" "),t("li",[s._v("大厂运维，比自己运维更省心")]),s._v(" "),t("li",[s._v("额外的能力，比如监控、告警、其他（存储、负载均衡、自动扩缩容、流水线）")])])])}),[],!1,null,null,null);a.default=e.exports}}]);