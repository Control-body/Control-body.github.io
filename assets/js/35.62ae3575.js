(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{433:function(t,s,a){"use strict";a.r(s);var n=a(56),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"_4、构建后台管理系统"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、构建后台管理系统"}},[t._v("#")]),t._v(" 4、构建后台管理系统")]),t._v(" "),a("p",[t._v("如何使用thymeleaf模板\n官方文档：\nhttps://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#setting-value-to-specific-attributes\n就是引入头标签 就可以了；\nthymeleaf 还是以html 后缀结尾的")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("DOCTYPE html"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("html lang"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"en"')]),t._v(" xmlns"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("th"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://www.thymeleaf.org"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("head"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("meta charset"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"utf-8"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("meta name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"viewport"')]),t._v(" content"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"width=device-width, initial-scale=1.0, maximum-scale=1.0"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("meta name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"description"')]),t._v(" content"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("meta name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"author"')]),t._v(" content"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v('"'),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ThemeBuck")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("h2",{attrs:{id:"_1-先引入前端的模板和必要的依赖"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-先引入前端的模板和必要的依赖"}},[t._v("#")]),t._v(" 1.先引入前端的模板和必要的依赖")]),t._v(" "),a("p",[t._v("thymeleaf、web-starter、devtools、lombok\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-245312f439914dcd92ebec987713fa9b.png",alt:"image.png"}}),t._v('\n为什么访问8080端口会自动到发/login请求\nth:action="@{/login}" @是默认加上本类的路径的；')]),t._v(" "),a("h2",{attrs:{id:"_2-创建监听器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-创建监听器"}},[t._v("#")]),t._v(" 2.创建监听器")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-8f7352aa035744408ee4779582aad004.png",alt:"image.png"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-0c56526a460842cf9993437584d8ea0c.png",alt:"image.png"}})]),t._v(" "),a("h2",{attrs:{id:"_3、静态资源处理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、静态资源处理"}},[t._v("#")]),t._v(" 3、静态资源处理")]),t._v(" "),a("p",[t._v("自动配置好，我们只需要把所有静态资源放到 static 文件夹下")]),t._v(" "),a("h2",{attrs:{id:"_4-抽取公共内容"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-抽取公共内容"}},[t._v("#")]),t._v(" 4.抽取公共内容")]),t._v(" "),a("p",[t._v("头 （css js代码）尾（js代码）\n侧边栏  和  顶部菜单 是一样的 ；\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-2dfdd08626d94b64b8adf5a71de71899.png",alt:"image.png"}}),t._v("\n引入的三种方式：\nth:insert/replace/include\n1.把各个js css 的应用代码变成 teamleaf 的形式 映入\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-c29514412d1543f78f463fc7930d83d6.png",alt:"image.png"}}),t._v("\n2.引入模板")]),t._v(" "),a("ul",[a("li",[t._v("给模板起个名字方式：\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-00aa50b82bd34b369be5f0d7ed74d50f.png",alt:"image.png"}})])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-43537bb93921446cb4d66a73e590af14.png",alt:"image.png"}})]),t._v(" "),a("ul",[a("li",[t._v("id选择器的方式：\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-ab9994e180ae42c98147a35182cf7269.png",alt:"image.png"}})])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-54d938465418416498288d0983420490.png",alt:"image.png"}})]),t._v(" "),a("p",[t._v("3.引入\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-3bd0cbbffbf640c492dea8b1cabeee5f.png",alt:"image.png"}}),t._v("\nth:insert/replace/include\ninsert  在原来标签的基础上 带着标签引入  插入\ninclude 在原来标签的基础上 不带标签引入 包含\nreplace 把原来的标签去掉 带着大标签   替换\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-a65dbb3c5f894f03bf16827c8505a4b8.png",alt:"image.png"}})]),t._v(" "),a("p",[t._v("引入页面的时候 直接修改公共的部分就 就可以全部生效；\n【【】】是行内的方式 取出数据；")]),t._v(" "),a("h1",{attrs:{id:"_5、视图解析与模板引擎"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、视图解析与模板引擎"}},[t._v("#")]),t._v(" 5、视图解析与模板引擎")]),t._v(" "),a("p",[t._v("视图解析：SpringBoot默认不支持 JSP，需要引入第三方模板引擎技术实现页面渲染。")]),t._v(" "),a("h2",{attrs:{id:"_1、视图解析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、视图解析"}},[t._v("#")]),t._v(" 1、视图解析")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-f26fe7da21004966b9a97166256e000c.png",alt:"image.png"}}),t._v('\n1.请求先确定 参数解析器 和 返回值解析器 ，通过 参数解析器 拿到参数；\n2.执行方法，得到返回值\n3.返回值 经过返回值处理器 进行处理；（用 return "redirect:/main.html"; ）返回字符串 来进行实例；\n4.选择合适的返回值处理器（HeadlerMethodReturnValueHandlerComposite处理器处理）判读的条件是 返回字符串；\n5.处理 如果是返回字符串 就放到ModelAndViewContainer 中')]),t._v(" "),a("h3",{attrs:{id:"_1、视图解析原理流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、视图解析原理流程"}},[t._v("#")]),t._v(" 1、视图解析原理流程")]),t._v(" "),a("h4",{attrs:{id:"_1、目标方法处理的过程中-所有数据都会被放在-modelandviewcontainer-容器-里面。包括数据和视图地址"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、目标方法处理的过程中-所有数据都会被放在-modelandviewcontainer-容器-里面。包括数据和视图地址"}},[t._v("#")]),t._v(" 1、目标方法处理的过程中，所有数据都会被放在 ModelAndViewContainer （容器 ）里面。包括数据和视图地址")]),t._v(" "),a("h4",{attrs:{id:"_2、方法的参数是一个自定义类型对象-从请求参数中确定的-把他重新放在-modelandviewcontainer总-请求的各种值都会放在里面"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、方法的参数是一个自定义类型对象-从请求参数中确定的-把他重新放在-modelandviewcontainer总-请求的各种值都会放在里面"}},[t._v("#")]),t._v(" 2、方法的参数是一个自定义类型对象（从请求参数中确定的），把他重新放在 ModelAndViewContainer总 （请求的各种值都会放在里面）")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-84a8a97fb60847c391e8d871cfc81925.png",alt:"image.png"}})]),t._v(" "),a("h4",{attrs:{id:"_3、任何目标方法执行完成以后都会返回-modelandview-数据和视图地址-他是从modelandviewcontainer抽取出来的-。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、任何目标方法执行完成以后都会返回-modelandview-数据和视图地址-他是从modelandviewcontainer抽取出来的-。"}},[t._v("#")]),t._v(" 3、任何目标方法执行完成以后都会返回 ModelAndView（数据和视图地址）（他是从ModelAndViewContainer抽取出来的 ）。")]),t._v(" "),a("ul",[a("li",[t._v("如果modelandView中没有视图地址就会返回到请求的发出的页面；\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-1b61ca6cdb0e4678a03bc51708431db0.png",alt:"image.png"}})])]),t._v(" "),a("h4",{attrs:{id:"_4、processdispatchresult-处理派发结果-页面改如何响应"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、processdispatchresult-处理派发结果-页面改如何响应"}},[t._v("#")]),t._v(" 4、processDispatchResult  处理派发结果（页面改如何响应）")]),t._v(" "),a("p",[t._v("1）先检测有没有出现问题 之后进行渲染；\n● 1、render(mv（modelandview）, request, response); 进行页面渲染逻辑\n○ 1、根据方法的String返回值得到 View 对象【定义了页面的渲染逻辑】\n"),a("strong",[t._v("- 这里是重定向的位置：")]),t._v("\n■ 1、所有的视图解析器尝试是否能根据当前返回值得到View对象\n如何得到View名字呢？\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-a4a6e0f64ef64535b8a1ca7e03fdb683.png",alt:"image.png"}}),t._v("\n第一个就可处理 得到  RedirectView（）对象；\n■ 2、得到了  redirect:/main.html --\x3e Thymeleaf new RedirectView()\n■ 3、ContentNegotiationViewResolver 里面包含了下面所有的视图解析器，内部还是利用下面所有视图解析器得到视图对象。\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-b29c89c1e6324ee88efe428e0f6e4ee7.png",alt:"image.png"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-3b992e55536444949fcc05c61219e1d8.png",alt:"image.png"}}),t._v("\n■ 4、view.render(mv.getModelInternal(), request, response);   视图对象调用自定义的render进行页面渲染工作\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-5f8e7f4519cf44dbbae973459a917406.png",alt:"image.png"}}),t._v("\n● RedirectView 如何渲染【重定向到一个页面】\n● 1、获取目标url地址\n● 2、response.sendRedirect(encodedURL);")]),t._v(" "),a("p",[a("strong",[t._v("- 下面是不需要重定向 （）")]),t._v("\n视图解析：\n○ 返回值以 forward: 开始： new InternalResourceView(forwardUrl); --\x3e  转发request.getRequestDispatcher(path).forward(request, response);\n○ 返回值以 redirect: 开始： new RedirectView() --\x3e render就是重定向\n○ 返回值是普通字符串： new ThymeleafView（）---\x3e会把有 th标签的地方进行写入")]),t._v(" "),a("h1",{attrs:{id:"_6-拦截器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-拦截器"}},[t._v("#")]),t._v(" 6. 拦截器")]),t._v(" "),a("h2",{attrs:{id:"_1、handlerinterceptor-接口-写一个拦截器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、handlerinterceptor-接口-写一个拦截器"}},[t._v("#")]),t._v(" 1、HandlerInterceptor 接口(写一个拦截器)")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-20c658f698be4cc38f4b88b63471ffb0.png",alt:"image.png"}})]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * 登录检查\n * 1、配置好拦截器要拦截哪些请求\n * 2、把这些配置放在容器中\n */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Slf4j")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("LoginInterceptor")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HandlerInterceptor")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n     * 目标方法执行之前\n     * @param request\n     * @param response\n     * @param handler\n     * @return\n     * @throws Exception\n     */")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("preHandle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpServletRequest")]),t._v(" request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpServletResponse")]),t._v(" response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v(" handler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" requestURI "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getRequestURI")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        log"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"preHandle拦截的请求路径是{}"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("requestURI"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//登录检查逻辑")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpSession")]),t._v(" session "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSession")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v(" loginUser "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" session"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAttribute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"loginUser"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("loginUser "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//放行")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//拦截住。未登录。跳转到登录页")]),t._v("\n        request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setAttribute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"msg"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"请先登录"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//        re.sendRedirect("/");')]),t._v("\n        request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getRequestDispatcher")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("forward")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n     * 目标方法执行完成以后\n     * @param request\n     * @param response\n     * @param handler\n     * @param modelAndView\n     * @throws Exception\n     */")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("postHandle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpServletRequest")]),t._v(" request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpServletResponse")]),t._v(" response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v(" handler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ModelAndView")]),t._v(" modelAndView"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        log"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"postHandle执行{}"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("modelAndView"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n     * 页面渲染以后\n     * @param request\n     * @param response\n     * @param handler\n     * @param ex\n     * @throws Exception\n     */")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("afterCompletion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpServletRequest")]),t._v(" request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpServletResponse")]),t._v(" response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v(" handler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),t._v(" ex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        log"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"afterCompletion执行异常{}"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br"),a("span",{staticClass:"line-number"},[t._v("37")]),a("br"),a("span",{staticClass:"line-number"},[t._v("38")]),a("br"),a("span",{staticClass:"line-number"},[t._v("39")]),a("br"),a("span",{staticClass:"line-number"},[t._v("40")]),a("br"),a("span",{staticClass:"line-number"},[t._v("41")]),a("br"),a("span",{staticClass:"line-number"},[t._v("42")]),a("br"),a("span",{staticClass:"line-number"},[t._v("43")]),a("br"),a("span",{staticClass:"line-number"},[t._v("44")]),a("br"),a("span",{staticClass:"line-number"},[t._v("45")]),a("br"),a("span",{staticClass:"line-number"},[t._v("46")]),a("br"),a("span",{staticClass:"line-number"},[t._v("47")]),a("br"),a("span",{staticClass:"line-number"},[t._v("48")]),a("br"),a("span",{staticClass:"line-number"},[t._v("49")]),a("br"),a("span",{staticClass:"line-number"},[t._v("50")]),a("br"),a("span",{staticClass:"line-number"},[t._v("51")]),a("br"),a("span",{staticClass:"line-number"},[t._v("52")]),a("br"),a("span",{staticClass:"line-number"},[t._v("53")]),a("br"),a("span",{staticClass:"line-number"},[t._v("54")]),a("br"),a("span",{staticClass:"line-number"},[t._v("55")]),a("br"),a("span",{staticClass:"line-number"},[t._v("56")]),a("br"),a("span",{staticClass:"line-number"},[t._v("57")]),a("br"),a("span",{staticClass:"line-number"},[t._v("58")]),a("br"),a("span",{staticClass:"line-number"},[t._v("59")]),a("br"),a("span",{staticClass:"line-number"},[t._v("60")]),a("br"),a("span",{staticClass:"line-number"},[t._v("61")]),a("br"),a("span",{staticClass:"line-number"},[t._v("62")]),a("br"),a("span",{staticClass:"line-number"},[t._v("63")]),a("br"),a("span",{staticClass:"line-number"},[t._v("64")]),a("br"),a("span",{staticClass:"line-number"},[t._v("65")]),a("br"),a("span",{staticClass:"line-number"},[t._v("66")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-4515854b5e1445b495beaad04e42b0b4.png",alt:"image.png"}})]),t._v(" "),a("h2",{attrs:{id:"_2、配置拦截器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、配置拦截器"}},[t._v("#")]),t._v(" 2、配置拦截器")]),t._v(" "),a("p",[t._v("加到配置SpringMVC的配置类里面：\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-7b8f25257491404498ecd9d82f638d92.png",alt:"image.png"}})]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * 1、编写一个拦截器实现HandlerInterceptor接口\n * 2、拦截器注册到容器中（实现WebMvcConfigurer的addInterceptors）\n * 3、指定拦截规则【如果是拦截所有，静态资源也会被拦截】\n */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Configuration")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AdminWebConfig")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("WebMvcConfigurer")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addInterceptors")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InterceptorRegistry")]),t._v(" registry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        registry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addInterceptor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("LoginInterceptor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addPathPatterns")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/**"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//所有请求都被拦截包括静态资源")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("excludePathPatterns")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/login"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/css/**"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/fonts/**"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/images/**"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/js/**"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//放行的请求")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br")])]),a("p",[t._v("/** 是把静态的页面也进行拦截；")]),t._v(" "),a("ul",[a("li",[t._v("解决方式一：（抛去静态请求的前缀）\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-b522effea31241cabca192a71946ff08.png",alt:"image.png"}})]),t._v(" "),a("li",[t._v("解决方式二：（给静态资源在配置文件中加上前缀）")]),t._v(" "),a("li",[t._v("spring.mvc.static-path-pattern=/static/*")])]),t._v(" "),a("h2",{attrs:{id:"_3-总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-总结"}},[t._v("#")]),t._v(" 3.总结：")]),t._v(" "),a("p",[t._v("/**")]),t._v(" "),a("ul",[a("li",[t._v("1、编写一个拦截器实现HandlerInterceptor接口")]),t._v(" "),a("li",[t._v("2、拦截器注册到容器中（实现WebMvcConfigurer的addInterceptors）")]),t._v(" "),a("li",[t._v("3、指定拦截规则【如果是拦截所有，静态资源也会被拦截】")]),t._v(" "),a("li"),t._v(" "),a("li",[t._v("@EnableWebMvc:全面接管")]),t._v(" "),a("li",[a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v(" 1、静态资源？视图解析器？欢迎页.....全部失效\n")])])])])]),t._v(" "),a("p",[t._v("*/")]),t._v(" "),a("h2",{attrs:{id:"_4、拦截器原理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、拦截器原理"}},[t._v("#")]),t._v(" 4、拦截器原理")]),t._v(" "),a("p",[t._v("DispacherServlet--\x3edoDispatch--\x3ehandler(谁处理这个请求)\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-de7ab59776054fb2839bec1828d3145b.png",alt:"image.png"}}),t._v("\n在方法执行之前，先进行拦截器的操作：\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-1676778dd1714d22be073aee3ab47bfd.png",alt:"image.png"}}),t._v(" "),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-0fcf5d30ab464244a4fa4fe7b8a392e7.png",alt:"image.png"}}),t._v("\n目标方法执行完成之后，倒叙执行posthandle\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-b8db0cdbe4c641fe918f6de26f3c8d66.png",alt:"image.png"}}),t._v("\n过滤器操作完成：\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-1f1a06b861b049e38d182ceb9eba4661.png",alt:"image.png"}}),t._v("\n渲染页面完成之后\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-a45a64920dd6493ca20bc612bc32324a.png",alt:"image.png"}})]),t._v(" "),a("p",[t._v("1、根据当前请求，找到HandlerExecutionChain【可以处理请求的handler以及handler的所有 拦截器】\n2、先来顺序执行 所有拦截器的 preHandle方法\n● 1、如果当前拦截器prehandler返回为true。则执行下一个拦截器的preHandle\n● 2、如果当前拦截器返回为false。直接倒序执行所有已经执行了的拦截器的  afterCompletion；\n3、如果任何一个拦截器返回false。直接跳出不执行目标方法\n4、所有拦截器都返回True。执行目标方法\n5、倒序执行所有拦截器的postHandle方法。\n6、前面的步骤有任何异常都会直接倒序触发 afterCompletion\n7、页面成功渲染完成以后，也会倒序触发 afterCompletion")]),t._v(" "),a("p",[t._v("拦截器的 afterCompletion 一定会触发不管是 出现什么问题")]),t._v(" "),a("h1",{attrs:{id:"_7、文件上传"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7、文件上传"}},[t._v("#")]),t._v(" 7、文件上传")]),t._v(" "),a("h2",{attrs:{id:"_1、页面表单"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、页面表单"}},[t._v("#")]),t._v(" 1、页面表单")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("form role"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"form"')]),t._v(" th"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("action"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@{https://cdn.jsdelivr.net/gh/Control-body/tuChuang}"')]),t._v(" method"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"post"')]),t._v(" enctype"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"multipart/form-data"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                            "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"form-group"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                                "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("label "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"exampleInputEmail1"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("邮箱"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("label"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                                "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("input type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"email"')]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"email"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"form-control"')]),t._v(" id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"exampleInputEmail1"')]),t._v(" placeholder"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Enter email"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                            "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                            "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"form-group"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                                "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("label "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"exampleInputPassword1"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("名字"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("label"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                                "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("input type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text"')]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"username"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"form-control"')]),t._v(" id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"exampleInputPassword1"')]),t._v(" placeholder"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Password"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                            "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                            "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"form-group"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                                "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("label "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"exampleInputFile"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("头像"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("label"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                                "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("input type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"file"')]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"headerImg"')]),t._v(" id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"exampleInputFile"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                            "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                            "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"form-group"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                                "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("label "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"exampleInputFile"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("生活照"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("label"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                                "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("input type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"file"')]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"photos"')]),t._v(" multiple"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                            "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                            "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"checkbox"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                                "),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("label"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n                                    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("input type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"checkbox"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Check")]),t._v(" me out\n                                "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("label"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                            "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                            "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("button type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"submit"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"btn btn-primary"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("提交"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("button"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("form"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br")])]),a("h2",{attrs:{id:"_2、文件上传代码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、文件上传代码"}},[t._v("#")]),t._v(" 2、文件上传代码")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[t._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n     * MultipartFile 自动封装上传过来的文件\n     * @param email\n     * @param username\n     * @param headerImg\n     * @param photos\n     * @return\n     */")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@PostMapping")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://cdn.jsdelivr.net/gh/Control-body/tuChuang"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("upload")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@RequestParam")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"email"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" email"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@RequestParam")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"username"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" username"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@RequestPart")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"headerImg"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MultipartFile")]),t._v(" headerImg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@RequestPart")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"photos"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MultipartFile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" photos"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IOException")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n        log"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"上传的信息：email={}，username={}，headerImg={}，photos={}"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                email"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("username"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("headerImg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSize")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("photos"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("headerImg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("isEmpty")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//保存到文件服务器，OSS服务器")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" originalFilename "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" headerImg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getOriginalFilename")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            headerImg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("transferTo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("File")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"H:\\\\cache\\\\"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("originalFilename"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("photos"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MultipartFile")]),t._v(" photo "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" photos"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("photo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("isEmpty")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" originalFilename "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" photo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getOriginalFilename")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                    photo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("transferTo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("File")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"H:\\\\cache\\\\"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("originalFilename"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"main"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-f026f3188f6e4c05925effe70033dec2.png",alt:"image.png"}}),t._v("\n上传文件 有大小的限制\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-9b41a941e2b74b4387844b1773cbd9fa.png",alt:"image.png"}}),t._v("\n文件上传的自动配置类：\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-300f0039e42b476ea466852d3c27c0e5.png",alt:"image.png"}}),t._v("\n文件上传的配置类：\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-5ff5ef842c4449a080e3a05c67d15c93.png",alt:"image.png"}})]),t._v(" "),a("h2",{attrs:{id:"_3、自动配置原理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、自动配置原理"}},[t._v("#")]),t._v(" 3、自动配置原理")]),t._v(" "),a("p",[t._v("分析 源码流程：")]),t._v(" "),a("ul",[a("li",[t._v("SpringBoiot 自动配置了那些")]),t._v(" "),a("li",[t._v("Debug 调试看 流程是怎么写的")])]),t._v(" "),a("p",[t._v("1.文件上传配类两个 bean\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-d1577f01c07d4be09bc02c4337941add.png",alt:"image.png"}}),t._v("\n文件上传解析器是 解析Servlet 的方式 传上来的方式 如果直接传上来 流 还是要自己写 解析器")]),t._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[t._v("流程是如何 进行的？")])]),t._v(" "),a("p",[t._v("文件上传自动配置类-MultipartAutoConfiguration - MultipartProperties\n● 自动配置好了 StandardServletMultipartResolver   【文件上传解析器】\n● 原理步骤\n○ 1、请求进来使用文件上传解析器判断（isMultipart）并封装（resolveMultipart，返回MultipartHttpServletRequest 对象）文件上传请求\n○ 2、参数解析器来解析请求中的文件内容 封装成MultipartFile\n下面是参数的解析器：\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-fa063cc069e641dd9b2caacd15c20fd6.png",alt:"image.png"}}),t._v("\n○ 3、将request中文件信息封装为一个 Map；MultiValueMap<String, MultipartFile>\nFileCopyUtils。实现文件流的拷贝")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[t._v("    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@PostMapping")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://cdn.jsdelivr.net/gh/Control-body/tuChuang"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("upload")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@RequestParam")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"email"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" email"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@RequestParam")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"username"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" username"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@RequestPart")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"headerImg"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MultipartFile")]),t._v(" headerImg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@RequestPart")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"photos"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MultipartFile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" photos"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("h1",{attrs:{id:"_8、异常处理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8、异常处理"}},[t._v("#")]),t._v(" 8、异常处理")]),t._v(" "),a("h2",{attrs:{id:"_1、错误处理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、错误处理"}},[t._v("#")]),t._v(" 1、错误处理")]),t._v(" "),a("h3",{attrs:{id:"_1、默认规则"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、默认规则"}},[t._v("#")]),t._v(" 1、默认规则")]),t._v(" "),a("p",[t._v("● 默认情况下，Spring Boot提供/error处理所有错误的映射\n● 对于"),a("strong",[t._v("机器客户端")]),t._v("，它将生成JSON响应，其中包含错误，HTTP状态和异常消息的详细信息。对于"),a("strong",[t._v("浏览器客户端")]),t._v("，响应一个“ whitelabel”错误视图，以HTML格式呈现相同的数据\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-cc42c25f4a8e4782b667df4ef959c998.png",alt:"image.png"}}),t._v("\n● 要完全替换默认行为，可以实现 ErrorController 并注册该类型的Bean定义，或添加ErrorAttributes类型的组件以使用现有机制但替换其内容。\n● error/下的4xx，5xx页面会被自动解析；\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-0623b2f36e0f495b9b96762ade5ca64e.png",alt:"image.png"}})]),t._v(" "),a("h2",{attrs:{id:"_2、定制错误处理逻辑"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、定制错误处理逻辑"}},[t._v("#")]),t._v(" 2、定制错误处理逻辑")]),t._v(" "),a("p",[t._v("● 自定义错误页\n○ error/404.html   error/5xx.html；有精确的错误状态码页面就匹配精确，没有就找 4xx.html；如果都没有就触发白页\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-ca2633872bbd40a489d4a2c8759bcf42.png",alt:"image.png"}})]),t._v(" "),a("p",[t._v("● @ControllerAdvice+@ExceptionHandler处理全局异常；底层是 ExceptionHandlerExceptionResolver 支持的 （推荐）\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-9adca9754aea438697108b22cc3e008a.png",alt:"image.png"}})]),t._v(" "),a("p",[t._v("这里异常处理器 就已经返回了 MV 就不需要下面的 异常视图解析器了\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-1681b851e04240b3b9a502499baa25f8.png",alt:"image.png"}}),t._v("\n● @ResponseStatus+自定义异常 ；底层是 ResponseStatusExceptionResolver ，把responsestatus注解的信息底层调用 response.sendError(statusCode, resolvedReason)；tomcat发送的/error 在经过下面的异常视图解析器 最后到 4xx 5xx\n自定义一个异常类：\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-7ba3f0127d6d43bbafa414085e50dccb.png",alt:"image.png"}}),t._v(" "),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-fabc6ecbdb764924a469f3e7a461dd06.png",alt:"image.png"}})]),t._v(" "),a("p",[t._v("● Spring底层的异常（框架抛出的），如 参数类型转换异常；DefaultHandlerExceptionResolver 处理框架底层的异常。\n○ response.sendError(HttpServletResponse.SC_BAD_REQUEST, ex.getMessage()); 也会发送、error 请求\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-857dda7e9404472683d223500aa4868c.png",alt:"image.png"}})]),t._v(" "),a("p",[t._v("● 自定义实现 HandlerExceptionResolver 处理异常；可以作为默认的全局异常处理规则\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-53cf7ea22fdb493db156ee557d816d34.png",alt:"image.png"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-a977c2413e504eb683836b395662842d.png",alt:"image.png"}})]),t._v(" "),a("p",[t._v("● ErrorViewResolver  实现自定义处理异常；（一般不去自定义）\n○ response.sendError 。error请求就会转给controller\n○ 你的异常没有任何人能处理。tomcat底层 response.sendError。error请求就会转给controller\n○ basicErrorController 要去的页面地址是 ErrorViewResolver  ；")]),t._v(" "),a("h2",{attrs:{id:"_3、异常处理自动配置原理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、异常处理自动配置原理"}},[t._v("#")]),t._v(" 3、异常处理自动配置原理")]),t._v(" "),a("p",[t._v("● ErrorMvcAutoConfiguration  自动配置异常处理规则\n○ 容器中的组件：类型：DefaultErrorAttributes -> id：errorAttributes\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-435efd6d1ebc4d72b663dcb3d3a93809.png",alt:"image.png"}}),t._v("\n■ public class DefaultErrorAttributes implements ErrorAttributes, HandlerExceptionResolver\n■ DefaultErrorAttributes：定义错误页面中可以包含哪些数据。\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-75167f150c67402c9f78e8f91316ffa8.png",alt:"image.png"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-37dce09bbc4e4b1db99b6b509eb3f267.png",alt:"image.png"}})]),t._v(" "),a("p",[t._v("○ 容器中的组件：类型：BasicErrorController --\x3e id：basicErrorController（json+白页 适配响应） 处理请求\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-e3b1b2c0adf44db990852b04ee02fe0a.png",alt:"image.png"}}),t._v('\n■ 处理默认 /error 路径的请求；页面响应 new ModelAndView("error", model)；'),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-f772d218fc494221a5983ebe78720d13.png",alt:"image.png"}}),t._v("\n■ 容器中有组件 View->id是error；（响应默认错误页）\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-4fd0c41f18bf491ea6a1344debdd2ca4.png",alt:"image.png"}}),t._v("\n■ 容器中放组件 BeanNameViewResolver（视图解析器）；按照返回的视图名作为组件的id去容器中找View对象。\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-86e74c2ef27f444090eb5000d7fd60c3.png",alt:"image.png"}}),t._v("\n○ 容器中的组件：类型：DefaultErrorViewResolver -> id：conventionErrorViewResolver\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-aff64d375d93420d92c23d4cb855bfc2.png",alt:"image.png"}}),t._v("\n■ 如果发生错误，会以HTTP的状态码 作为视图页地址（viewName），找到真正的页面\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-5558cb90417d4c8a88f7c4db57f81528.png",alt:"image.png"}}),t._v("\n■ error/404、5xx.html\n如果想要返回页面；就会找error视图【StaticView】。(默认是一个白页)\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-86e74c2ef27f444090eb5000d7fd60c3.png",alt:"image.png"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-1857e4512187468893b83a09c0e7bd67.png",alt:"image.png"}})]),t._v(" "),a("h2",{attrs:{id:"_4。自定义错误可能修改的类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4。自定义错误可能修改的类"}},[t._v("#")]),t._v(" 4。自定义错误可能修改的类")]),t._v(" "),a("ul",[a("li",[t._v("DefaultErrorAttributes ： 修改这个可以设置返回那些信息")]),t._v(" "),a("li",[t._v("BasicErrorController ：可以响应白页")]),t._v(" "),a("li",[t._v("DefaultErrorViewResolver： 可以视图解析跳转错误页面到哪里")])]),t._v(" "),a("h2",{attrs:{id:"_5、异常处理步骤流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、异常处理步骤流程"}},[t._v("#")]),t._v(" 5、异常处理步骤流程")]),t._v(" "),a("p",[t._v("1、执行目标方法，目标方法运行期间有任何异常都会被catch、而且标志当前请求结束；并且用 dispatchException 封装：\n2、进入视图解析流程（页面渲染？）\nprocessDispatchResult(processedRequest, response, mappedHandler, mv, dispatchException); 传入了 发生什么异常\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-d8fb1c88e28b403f996d47f432043664.png",alt:"image.png"}}),t._v("\n3、mv = processHandlerException；处理handler发生的异常，处理完成返回ModelAndView；\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-117dfcfba74b420e8fc977009ec4585a.png",alt:"image.png"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-53df99ab03f74b5a862fb9e66e8bded4.png",alt:"image.png"}}),t._v("\n● 1、遍历所有的 handlerExceptionResolvers，看谁能处理当前异常【HandlerExceptionResolver处理器异常解析器】\n系统默认的异常解析器：\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-494919647f29426cb51daed005d155a1.png",alt:"image.png"}}),t._v("\n视图解析器的接口：\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-ddcae42924db402abe64d6706a8af48f.png",alt:"image.png"}}),t._v("\n○ 、DefaultErrorAttributes先来处理异常。把异常信息保存到rrequest域，并且返回null；\n○ 2、默认没有任何人能处理异常，所以异常会被抛出\n■ 1、如果没有任何人能处理最终底层就会发送 /error 请求（Servlet规范）。会被底层的BasicErrorController （它里面处理了、error 请求）处理\n■ 2、解析错误视图；遍历所有的  ErrorViewResolver  看谁能解析。\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-829ed3e228994454b171997ea98e931f.png",alt:"image.png"}}),t._v("\n■ 3、默认的 DefaultErrorViewResolver ,作用是把响应状态码作为错误页的地址，error/500.html\n■ 4、模板引擎最终响应这个页面 error/500.html\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-dfadf0cf1efb490e8100e51ffb0cc91b.png",alt:"image.png"}})]),t._v(" "),a("h2",{attrs:{id:"_6-处理异常"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-处理异常"}},[t._v("#")]),t._v(" 6.处理异常")]),t._v(" "),a("ul",[a("li",[t._v("先调用 异常解析器 环节（看是否可以处理异常）")]),t._v(" "),a("li",[t._v("如果没有就掉 异常视图解析器（跳转页面）")])]),t._v(" "),a("h2",{attrs:{id:"_7-xxx视图解析器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-xxx视图解析器"}},[t._v("#")]),t._v(" 7.xxx视图解析器：")]),t._v(" "),a("p",[t._v("错误视图解析器为例：\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-6ff491360e434e8aaa4dbce04f062c91.png",alt:"image.png"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/03/image-fe2af9c534214e5da55f32f6d2f119a6.png",alt:"image.png"}})])])}),[],!1,null,null,null);s.default=e.exports}}]);