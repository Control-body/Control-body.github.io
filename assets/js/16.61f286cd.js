(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{416:function(a,s,t){"use strict";t.r(s);var n=t(56),e=Object(n.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"注解开发"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#注解开发"}},[a._v("#")]),a._v(" 注解开发")]),a._v(" "),t("h2",{attrs:{id:"_1-注解驱动的意义"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-注解驱动的意义"}},[a._v("#")]),a._v(" 1)注解驱动的意义")]),a._v(" "),t("h3",{attrs:{id:"_1-1-什么是注解驱动"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-什么是注解驱动"}},[a._v("#")]),a._v(" 1.1)什么是注解驱动")]),a._v(" "),t("p",[a._v("注解启动时使用注解的形式替代xml配置，将繁杂的spring配置文件从工程中彻底消除掉，简化书写\n"),t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-e40a7a718b2c43fc90136d8622218edd.png",alt:"image.png"}})]),a._v(" "),t("h3",{attrs:{id:"_1-2-注解驱动的弊端"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-注解驱动的弊端"}},[a._v("#")]),a._v(" 1.2)注解驱动的弊端")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("为了 变的更加复杂")])]),a._v(" "),t("li",[t("p",[a._v("XML中配置第三方开发的资源是很方便的，但使用注解驱动无法在第三方开发的资源中进行编辑，因此会增大开发工作量\n"),t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-7c5af181d3004660aba72da721fb9647.png",alt:"image.png"}})])])]),a._v(" "),t("h2",{attrs:{id:"_2-常用注解"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-常用注解"}},[a._v("#")]),a._v(" 2)常用注解")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-74db9a9584b64ccdaa3da16eb7e678b7.png",alt:"image.png"}})]),a._v(" "),t("h3",{attrs:{id:"_2-1-启动注解功能"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-启动注解功能"}},[a._v("#")]),a._v(" 2.1)启动注解功能")]),a._v(" "),t("p",[a._v("（那个包下的bean进行注解的扫描，也在context包中）")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("启动注解扫描，加载类中配置的注解项")]),a._v(" "),t("div",{staticClass:"language-xml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-xml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),t("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("context:")]),a._v("component-scan")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("base-package")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("需要的扫描注解的包"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("/>")])]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])])]),a._v(" "),t("li",[t("p",[a._v("说明：")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("在进行包所扫描时，会对配置的包及其子包中所有文件进行扫描")])]),a._v(" "),t("li",[t("p",[a._v("扫描过程是以文件夹递归迭代的形式进行的")])]),a._v(" "),t("li",[t("p",[a._v("扫描过程仅读取合法的java文件")])]),a._v(" "),t("li",[t("p",[a._v("扫描时仅读取spring可识别的注解")])]),a._v(" "),t("li",[t("p",[a._v("扫描结束后会将可识别的有效注解转化为spring对应的资源加入IoC容器")])])])]),a._v(" "),t("li",[t("p",[a._v("注意：")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("无论是"),t("strong",[a._v("注解格式")]),a._v("还是"),t("strong",[a._v("XML配置格式")]),a._v("，最终都是将资源加载到IoC容器中，差别仅仅是数据读取方式不同")])]),a._v(" "),t("li",[t("p",[a._v("从加载效率上来说"),t("strong",[a._v("注解优于XML配置文件")])])])])])]),a._v(" "),t("h3",{attrs:{id:"_2-2-bean的定义-增加可读性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-bean的定义-增加可读性"}},[a._v("#")]),a._v(" 2.2)bean的定义 （增加可读性）")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("名称：@Component （衍生下面三个）   @Controller    @Service    @Repository")])]),a._v(" "),t("li",[t("p",[a._v("类型："),t("strong",[a._v("类注解")])])]),a._v(" "),t("li",[t("p",[a._v("位置：类定义上方")])]),a._v(" "),t("li",[t("p",[a._v("作用：设置该类为spring管理的bean")])]),a._v(" "),t("li",[t("p",[a._v("范例：")]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@Component")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("ClassName")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])])]),a._v(" "),t("li",[t("p",[a._v("说明：")]),a._v(" "),t("ul",[t("li",[a._v("@Controller、@Service 、@Repository是@Component的衍生注解，功能同@Component")])])]),a._v(" "),t("li",[t("p",[a._v("相关属性")]),a._v(" "),t("ul",[t("li",[a._v("value（默认）：定义bean的访问id")])])])]),a._v(" "),t("h3",{attrs:{id:"_2-3-bean的作用域"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-bean的作用域"}},[a._v("#")]),a._v(" 2.3)bean的作用域")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("名称：@Scope")])]),a._v(" "),t("li",[t("p",[a._v("类型："),t("strong",[a._v("类注解")])])]),a._v(" "),t("li",[t("p",[a._v("位置：类定义上方")])]),a._v(" "),t("li",[t("p",[a._v("作用：设置该类作为bean对应的scope属性")])]),a._v(" "),t("li",[t("p",[a._v("范例：")]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@Scope")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("ClassName")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])])]),a._v(" "),t("li",[t("p",[a._v("相关属性")]),a._v(" "),t("ul",[t("li",[a._v("value（默认）：定义bean的作用域，默认为singleton")])])])]),a._v(" "),t("h3",{attrs:{id:"_2-4-bean的生命周期"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-bean的生命周期"}},[a._v("#")]),a._v(" 2.4)bean的生命周期")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("名称：@PostConstruct、@PreDestroy")])]),a._v(" "),t("li",[t("p",[a._v("类型："),t("strong",[a._v("方法注解")])])]),a._v(" "),t("li",[t("p",[a._v("位置：方法定义上方")])]),a._v(" "),t("li",[t("p",[a._v("作用：设置该类作为bean对应的生命周期方法")])]),a._v(" "),t("li",[t("p",[a._v("范例：")]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@PostConstruct")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("init")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("System")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("out"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"init..."')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])])])]),a._v(" "),t("h3",{attrs:{id:"_2-5-加载第三方资源"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-加载第三方资源"}},[a._v("#")]),a._v(" 2.5)加载第三方资源")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("名称：@Bean")])]),a._v(" "),t("li",[t("p",[a._v("类型："),t("strong",[a._v("方法注解")])])]),a._v(" "),t("li",[t("p",[a._v("位置：方法定义上方")])]),a._v(" "),t("li",[t("p",[a._v("作用：设置该方法的返回值作为spring管理的bean")])]),a._v(" "),t("li",[t("p",[a._v("范例：")]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@Bean")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"dataSource"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("DruidDataSource")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("createDataSource")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("return")]),a._v(" ……"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])])]),a._v(" "),t("li",[t("p",[a._v("说明：")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("因为第三方bean无法在其源码上进行修改，使用@Bean解决第三方bean的引入问题")])]),a._v(" "),t("li",[t("p",[a._v("该注解用于替代XML配置中的静态工厂与实例工厂创建bean，不区分方法是否为静态或非静态")])]),a._v(" "),t("li",[t("p",[a._v("@Bean所在的类必须被spring扫描加载，否则该注解无法生效")])])])]),a._v(" "),t("li",[t("p",[a._v("相关属性")]),a._v(" "),t("ul",[t("li",[a._v("value（默认）：定义bean的访问id")])])])]),a._v(" "),t("h3",{attrs:{id:"_2-6-bean的非引用类型属性注入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-bean的非引用类型属性注入"}},[a._v("#")]),a._v(" 2.6)bean的非引用类型属性注入")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("名称：@Value")])]),a._v(" "),t("li",[t("p",[a._v("类型："),t("strong",[a._v("属性注解、方法注解")])])]),a._v(" "),t("li",[t("p",[a._v("位置：属性定义上方，方法定义上方")])]),a._v(" "),t("li",[t("p",[a._v("作用：设置对应属性的值或对方法进行传参")])]),a._v(" "),t("li",[t("p",[a._v("范例：")]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@Value")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"${jdbc.username}"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("private")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),a._v(" username"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])])]),a._v(" "),t("li",[t("p",[a._v("说明：")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("value值仅支持非引用类型数据，赋值时对方法的所有参数全部赋值")])]),a._v(" "),t("li",[t("p",[a._v("value值支持读取properties文件中的属性值，通过类属性将properties中数据传入类中")])]),a._v(" "),t("li",[t("p",[a._v("value值支持SpEL")])]),a._v(" "),t("li",[t("p",[a._v("@value注解如果添加在属性上方，可以省略set方法（set方法的目的是为属性赋值）")])])])]),a._v(" "),t("li",[t("p",[a._v("相关属性")]),a._v(" "),t("ul",[t("li",[a._v("value（默认）：定义对应的属性值或参数值")])])])]),a._v(" "),t("h3",{attrs:{id:"_2-7-bean的引用类型属性注入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-bean的引用类型属性注入"}},[a._v("#")]),a._v(" 2.7)bean的引用类型属性注入")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("名称：@Autowired（按照类型注入）、@Qualifier（按照类型注入必须搭配@Autowired使用） @Resource （按照名称进行装配）")])]),a._v(" "),t("li",[t("p",[a._v("类型："),t("strong",[a._v("属性注解、方法注解")])])]),a._v(" "),t("li",[t("p",[a._v("位置：属性定义上方，方法定义上方")])]),a._v(" "),t("li",[t("p",[a._v("作用：设置对应属性的对象或对方法进行引用类型传参")])]),a._v(" "),t("li",[t("p",[a._v("范例：")]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@Autowired")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("required "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("false")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@Qualifier")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"userDao"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("private")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("UserDao")]),a._v(" userDao"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br")])])]),a._v(" "),t("li",[t("p",[a._v("说明：")]),a._v(" "),t("ul",[t("li",[a._v("@Autowired默认按类型装配，指定@Qualifier后可以指定自动装配的bean的id")])])]),a._v(" "),t("li",[t("p",[a._v("相关属性")]),a._v(" "),t("ul",[t("li",[a._v("required：定义该属性是否允许为null")])])])]),a._v(" "),t("h3",{attrs:{id:"_2-8-bean的引用类型属性注入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-8-bean的引用类型属性注入"}},[a._v("#")]),a._v(" 2.8)bean的引用类型属性注入")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("名称：@Primary")])]),a._v(" "),t("li",[t("p",[a._v("类型："),t("strong",[a._v("类注解")])])]),a._v(" "),t("li",[t("p",[a._v("位置：类定义上方")])]),a._v(" "),t("li",[t("p",[a._v("作用：设置类对应的bean按"),t("strong",[a._v("类型装配时优先装配")])])]),a._v(" "),t("li",[t("p",[a._v("范例：")]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@Primary")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("ClassName")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])])]),a._v(" "),t("li",[t("p",[a._v("说明：")]),a._v(" "),t("ul",[t("li",[a._v("@Autowired默认按类型装配，当出现相同类型的bean，使用@Primary提高按类型自动装配的优先级，多个@Primary会导致优先级设置无效")])])])]),a._v(" "),t("h3",{attrs:{id:"_2-9-bean的引用类型属性注入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-9-bean的引用类型属性注入"}},[a._v("#")]),a._v(" 2.9)bean的引用类型属性注入")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("名称：@Inject、@Named、@Resource")])]),a._v(" "),t("li",[t("p",[a._v("说明：")]),a._v(" "),t("ul",[t("li",[a._v("@Inject与@Named是JSR330规范中的注解，功能与@Autowired和@Qualifier完全相同，适用于不同架构场景")]),a._v(" "),t("li",[a._v("@Resource是JSR250规范中的注解，可以简化书写格式")])])]),a._v(" "),t("li",[t("p",[a._v("@Resource相关属性")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("name：设置注入的bean的id")])]),a._v(" "),t("li",[t("p",[a._v("type：设置注入的bean的类型，接收的参数为Class类型")])])])])]),a._v(" "),t("h3",{attrs:{id:"_2-10-加载properties文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-加载properties文件"}},[a._v("#")]),a._v(" 2.10)加载properties文件")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("名称：@PropertySource")])]),a._v(" "),t("li",[t("p",[a._v("类型："),t("strong",[a._v("类注解")])])]),a._v(" "),t("li",[t("p",[a._v("位置：类定义上方")])]),a._v(" "),t("li",[t("p",[a._v("作用：加载properties文件中的属性值")])]),a._v(" "),t("li",[t("p",[a._v("范例：\n如果直接写在方法的set 方法中就会，解析失败，由于@PropertyScource 已经将配置文件注入到容器中了，我们先注入到属性中，然后在set进即可；")]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@PropertySource")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("value "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"classpath:filename.properties"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("ClassName")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@Value")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"${propertiesAttributeName}"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" \n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("private")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),a._v(" attributeName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br")])])]),a._v(" "),t("li",[t("p",[a._v("说明：")]),a._v(" "),t("ul",[t("li",[a._v("不支持*通配格式，一旦加载，所有spring控制的bean中均可使用对应属性值")])])]),a._v(" "),t("li",[t("p",[a._v("相关属性")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("value（默认）：设置加载的properties文件名")])]),a._v(" "),t("li",[t("p",[a._v("ignoreResourceNotFound：如果资源未找到，是否忽略，默认为false")])])])])]),a._v(" "),t("h3",{attrs:{id:"_2-11-纯注解格式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-11-纯注解格式"}},[a._v("#")]),a._v(" 2.11)纯注解格式")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-21db355fe3884aa09f3ea0a88436ec54.png",alt:"image.png"}})]),a._v(" "),t("ul",[t("li",[t("p",[a._v("名称：@Configuration、@ComponentScan")])]),a._v(" "),t("li",[t("p",[a._v("类型："),t("strong",[a._v("类注解")])])]),a._v(" "),t("li",[t("p",[a._v("位置：类定义上方")])]),a._v(" "),t("li",[t("p",[a._v("作用：设置当前类为spring核心配置加载类")])]),a._v(" "),t("li",[t("p",[a._v("范例：")]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@Configuration")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@ComponentScan")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"scan PackageName"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("SpringConfigClassName")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br")])])]),a._v(" "),t("li",[t("p",[a._v("说明：")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("核心配合类用于替换spring核心配置文件，此类可以设置空的，不设置变量与属性")])]),a._v(" "),t("li",[t("p",[a._v("bean扫描工作使用注解@ComponentScan替代")])])])])]),a._v(" "),t("p",[t("strong",[a._v("AnnotationConfigApplicationContext")])]),a._v(" "),t("ul",[t("li",[t("p",[a._v("加载纯注解格式上下文对象，需要使用AnnotationConfigApplicationContext")]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("AnnotationConfigApplicationContext")]),a._v(" ctx "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("AnnotationConfigApplicationContext")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("SpringConfig")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])])])]),a._v(" "),t("h3",{attrs:{id:"_2-12-第三方bean配置与管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-12-第三方bean配置与管理"}},[a._v("#")]),a._v(" 2.12)第三方bean配置与管理")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("名称：@Import")])]),a._v(" "),t("li",[t("p",[a._v("类型："),t("strong",[a._v("类注解")])])]),a._v(" "),t("li",[t("p",[a._v("位置：类定义上方")])]),a._v(" "),t("li",[t("p",[a._v("作用：导入第三方bean作为spring控制的资源 （一般引入配类，里面是一个字符串数组的形式）")])]),a._v(" "),t("li",[t("p",[a._v("范例：")]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@Configuration")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@Import")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("OtherClassName")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v("，xxxxConfig"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("ClassName")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br")])])]),a._v(" "),t("li",[t("p",[a._v("说明：")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("@Import注解在同一个类上，仅允许添加一次，如果需要导入多个，使用数组的形式进行设定")])]),a._v(" "),t("li",[t("p",[a._v("在被导入的类中可以继续使用@Import导入其他资源（了解）")])]),a._v(" "),t("li",[t("p",[a._v("@Bean所在的类可以使用导入的形式进入spring容器，无需声明为bean")])])])])]),a._v(" "),t("h2",{attrs:{id:"_3-bean加载控制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-bean加载控制"}},[a._v("#")]),a._v(" 3)bean加载控制")]),a._v(" "),t("h3",{attrs:{id:"_3-1-依赖加载"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-依赖加载"}},[a._v("#")]),a._v(" 3.1)依赖加载")]),a._v(" "),t("p",[a._v("(1)@DependsOn")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("名称：@DependsOn")])]),a._v(" "),t("li",[t("p",[a._v("类型：类注解、方法注解")])]),a._v(" "),t("li",[t("p",[a._v("位置：bean定义的位置（类上或方法上）")])]),a._v(" "),t("li",[t("p",[a._v("作用：控制bean的加载顺序，使其在指定bean加载完毕后再加载")])]),a._v(" "),t("li",[t("p",[a._v("范例：")]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@DependsOn")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"beanId"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("ClassName")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br")])])]),a._v(" "),t("li",[t("p",[a._v("说明：")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("配置在方法上，使@DependsOn指定的bean优先于@Bean配置的bean进行加载")])]),a._v(" "),t("li",[t("p",[a._v("配置在类上，使@DependsOn指定的bean优先于当前类中所有@Bean配置的bean进行加载")])]),a._v(" "),t("li",[t("p",[a._v("配置在类上，使@DependsOn指定的bean优先于@Component等配置的bean进行加载")])])])]),a._v(" "),t("li",[t("p",[a._v("相关属性")]),a._v(" "),t("ul",[t("li",[a._v("value（默认）：设置当前bean所依赖的bean的id")])])])]),a._v(" "),t("p",[a._v("(2)@Order")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("名称：@Order")])]),a._v(" "),t("li",[t("p",[a._v("类型："),t("strong",[a._v("配置类注解")])])]),a._v(" "),t("li",[t("p",[a._v("位置：配置类定义的位置（类上）")])]),a._v(" "),t("li",[t("p",[a._v("作用：控制配置类的加载顺序")])]),a._v(" "),t("li",[t("p",[a._v("范例：")]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@Order")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("SpringConfigClassName")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br")])])])]),a._v(" "),t("p",[a._v("(3)@Lazy")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("名称：@Lazy")])]),a._v(" "),t("li",[t("p",[a._v("类型："),t("strong",[a._v("类注解、方法注解")])])]),a._v(" "),t("li",[t("p",[a._v("位置：bean定义的位置（类上或方法上）")])]),a._v(" "),t("li",[t("p",[a._v("作用：控制bean的加载时机，使其延迟加载")])]),a._v(" "),t("li",[t("p",[a._v("范例：")]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@Lazy")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("ClassName")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br")])])])]),a._v(" "),t("h3",{attrs:{id:"_3-2-依赖加载应用场景"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-依赖加载应用场景"}},[a._v("#")]),a._v(" "),t("strong",[a._v("3.2)依赖加载应用场景")])]),a._v(" "),t("p",[a._v("@DependsOn")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("微信订阅号，发布消息和订阅消息的bean的加载顺序控制")])]),a._v(" "),t("li",[t("p",[a._v("双11活动期间，零点前是结算策略A，零点后是结算策略B，策略B操作的数据为促销数据。策略B加载顺序与促销数据的加载顺序")])])]),a._v(" "),t("p",[a._v("@Lazy")]),a._v(" "),t("ul",[t("li",[a._v("程序灾难出现后对应的应急预案处理是启动容器时加载时机")])]),a._v(" "),t("p",[a._v("@Order")]),a._v(" "),t("ul",[t("li",[a._v("多个种类的配置出现后，优先加载系统级的，然后加载业务级的，避免细粒度的加载控制")])]),a._v(" "),t("h2",{attrs:{id:"_4-整合第三方技术"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-整合第三方技术"}},[a._v("#")]),a._v(" 4)整合第三方技术")]),a._v(" "),t("h3",{attrs:{id:"_4-1-综合案例改版-注解整合mybatis"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-综合案例改版-注解整合mybatis"}},[a._v("#")]),a._v(" 4.1)综合案例改版（注解整合MyBatis）")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-fa56efcdfede453b8ee9503e300be50f.png",alt:"image.png"}})]),a._v(" "),t("h3",{attrs:{id:"_4-2-注解整合mybatis分析"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-注解整合mybatis分析"}},[a._v("#")]),a._v(" 4.2)注解整合MyBatis分析")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("业务类使用注解形式声明bean，属性采用注解注入")])]),a._v(" "),t("li",[t("p",[a._v("建立独立的配置管理类，分类管理外部资源，根据功能进行分类，并提供对应的方法获取bean")])]),a._v(" "),t("li",[t("p",[a._v("使用注解形式启动bean扫描，加载所有注解配置的资源（bean）")])]),a._v(" "),t("li",[t("p",[a._v("使用AnnotationConfigApplicationContext对象加载所有的启动配置类，内部使用导入方式进行关联")])])]),a._v(" "),t("h3",{attrs:{id:"_4-3-注解整合mybatis步骤"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-注解整合mybatis步骤"}},[a._v("#")]),a._v(" 4.3)注解整合MyBatis步骤")]),a._v(" "),t("p",[a._v("1.修改mybatis外部配置文件格式为注解格式")]),a._v(" "),t("p",[a._v("2.业务类使用@Component声明bean，使用@Autowired注入对象")]),a._v(" "),t("p",[a._v("3.建立配置文件JDBCConfig与MyBatisConfig类，并将其导入到核心配置类SpringConfig")]),a._v(" "),t("p",[a._v("4.开启注解扫描")]),a._v(" "),t("p",[a._v("5.使用AnnotationConfigApplicationContext对象加载配置项")]),a._v(" "),t("h3",{attrs:{id:"_4-4-综合案例改版-注解整合junit"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-综合案例改版-注解整合junit"}},[a._v("#")]),a._v(" 4.4)综合案例改版（注解整合Junit）")]),a._v(" "),t("p",[a._v("1.Spring接管Junit的运行权，使用Spring专用的Junit类加载器")]),a._v(" "),t("p",[a._v("2.为Junit测试用例设定对应的spring容器：")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("从Spring5.0以后，要求Junit的版本必须是4.12及以上")])]),a._v(" "),t("li",[t("p",[a._v("Junit仅用于单元测试，不能将Junit的测试类配置成spring的bean，否则该配置将会被打包进入工程中")])])]),a._v(" "),t("p",[a._v("导入Spring整合Junit坐标")]),a._v(" "),t("div",{staticClass:"language-xml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-xml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("dependency")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("groupId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("junit"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("groupId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("artifactId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("junit"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("artifactId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("version")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("4.12"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("version")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("dependency")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("dependency")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("groupId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("org.springframework"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("groupId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("artifactId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("spring-test"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("artifactId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("version")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("5.1.9.RELEASE"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("version")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("dependency")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br")])]),t("p",[a._v("在测试类中，每次都要创建容器对象，然后在调用Bean很麻烦，直接用Spring-test（Spring整合test 的 jar包），在代码中直接注入就可以；\nSpring整合Junit测试用例注解格式")]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@RunWith")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("SpringJUnit4ClassRunner")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//注解替换原来的运行期")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@ContextConfiguration")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("classes "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("SpringConfig")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//指定配置文件")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("UserServiceTest")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br")])]),t("h2",{attrs:{id:"_5-ioc底层核心原理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-ioc底层核心原理"}},[a._v("#")]),a._v(" 5)IoC底层核心原理")]),a._v(" "),t("h3",{attrs:{id:"_5-1-ioc核心接口"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-ioc核心接口"}},[a._v("#")]),a._v(" 5.1)IoC核心接口")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-cd1f41f5e43c4feeba3c03b7b8f83f3c.png",alt:"image.png"}})]),a._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-8899a0c5134445e1ab649dc55420fac7.png",alt:"image.png"}})]),a._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-dca7a1f3fd1547bfaae4c19630718824.png",alt:"image.png"}})]),a._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-5e920813f1904140914a44cf607ed667.png",alt:"image.png"}})]),a._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-f4e773e83e7b479b8b97a51c95292839.png",alt:"image.png"}})]),a._v(" "),t("h3",{attrs:{id:"_5-2-组件扫描器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-组件扫描器"}},[a._v("#")]),a._v(" "),t("strong",[a._v("5.2)组件扫描器")])]),a._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-9d50e92f1e69475c9f121d12b9a7b48d.png",alt:"image.png"}})]),a._v(" "),t("ul",[t("li",[a._v("开发过程中，需要根据需求加载必要的bean，排除指定bean\n"),t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-ed5f35212e4d402eafd879e6842d96ef.png",alt:"image.png"}})])]),a._v(" "),t("h3",{attrs:{id:"_5-3-设定组件扫描加载过滤器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-设定组件扫描加载过滤器"}},[a._v("#")]),a._v(" "),t("strong",[a._v("5.3)设定组件扫描加载过滤器")])]),a._v(" "),t("ul",[t("li",[t("p",[a._v("名称：@ComponentScan")])]),a._v(" "),t("li",[t("p",[a._v("类型："),t("strong",[a._v("类注解")])])]),a._v(" "),t("li",[t("p",[a._v("位置：类定义上方")])]),a._v(" "),t("li",[t("p",[a._v("作用：设置spring配置加载类扫描规则")])]),a._v(" "),t("li",[t("p",[a._v("范例：")]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@ComponentScan")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("\n    value"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"com.itheima"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\t           "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//设置基础扫描路径")]),a._v("\n    excludeFilters "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("                          "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//设置过滤规则，当前为排除过滤")]),a._v("\n\t"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@ComponentScan.Filter")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("            "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//设置过滤器")]),a._v("\n\t    type"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("FilterType")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("ANNOTATION"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//设置过滤方式为按照注解进行过滤")]),a._v("\n\t    classes"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Repository")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//设置具体的过滤项，过滤所有@Repository修饰的bean")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br")])])])]),a._v(" "),t("p",[a._v("​\tincludeFilters：设置包含性过滤器")]),a._v(" "),t("p",[a._v("​\texcludeFilters：设置排除性过滤器")]),a._v(" "),t("p",[a._v("​\ttype：设置过滤器类型\n"),t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-d1c7689b8866417c9fbacaadcde04c61.png",alt:"image.png"}})]),a._v(" "),t("h3",{attrs:{id:"_5-4-自定义组件过滤器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-4-自定义组件过滤器"}},[a._v("#")]),a._v(" "),t("strong",[a._v("5.4)自定义组件过滤器")])]),a._v(" "),t("p",[a._v("需要在@ComponentScan（）中的\n"),t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-8caf9faef3c74292ae748611f7ffdc1a.png",alt:"image.png"}})]),a._v(" "),t("ul",[t("li",[t("p",[a._v("名称：TypeFilter")])]),a._v(" "),t("li",[t("p",[a._v("类型："),t("strong",[a._v("接口")])])]),a._v(" "),t("li",[t("p",[a._v("作用：自定义类型过滤器")])]),a._v(" "),t("li",[t("p",[a._v("范例：")]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("MyTypeFilter")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("implements")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("TypeFilter")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("boolean")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("match")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("MetadataReader")]),a._v(" mr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("MetadataReaderFactory")]),a._v(" mrf"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("throws")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("IOException")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("ClassMetadata")]),a._v(" cm "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" metadataReader"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("getClassMetadata")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n        tring className "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" cm"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("getClassName")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("if")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("className"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("equals")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"com.itheima.dao.impl.BookDaoImpl"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("return")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("false")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("return")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("false")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br")])])])]),a._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-08d6814a8fc34957a845e2b836a0ed86.png",alt:"image.png"}})]),a._v(" "),t("h3",{attrs:{id:"_5-5-自定义导入器-springmvc用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-5-自定义导入器-springmvc用"}},[a._v("#")]),a._v(" "),t("strong",[a._v("5.5)自定义导入器 SpringMVC用")])]),a._v(" "),t("p",[a._v("需要在启动类上加 @import（类的名字）")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("bean只有通过配置才可以进入spring容器，被spring加载并控制")])]),a._v(" "),t("li",[t("p",[a._v("配置bean的方式如下：")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("XML文件中使用"),t("bean"),a._v("标签配置")],1)]),a._v(" "),t("li",[t("p",[a._v("使用@Component及衍生注解配置")])])])]),a._v(" "),t("li",[t("p",[a._v("企业开发过程中，通常需要配置大量的bean，需要一种快速高效配置大量bean的方式")])])]),a._v(" "),t("p",[t("strong",[a._v("ImportSelector")])]),a._v(" "),t("ul",[t("li",[t("p",[a._v("名称： ImportSelector")])]),a._v(" "),t("li",[t("p",[a._v("类型："),t("strong",[a._v("接口")])])]),a._v(" "),t("li",[t("p",[a._v("作用：自定义bean导入器")])]),a._v(" "),t("li",[t("p",[a._v("范例：")]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("MyImportSelector")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("implements")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("ImportSelector")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("selectImports")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("AnnotationMetadata")]),a._v(" icm"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("return")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"com.itheima.dao.impl.AccountDaoImpl"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br")])])])]),a._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-daa2a4d3837649d6a67c0b2a070c8fe5.png",alt:"image.png"}})]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@Configuration")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@ComponentScan")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"com.itheima"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@Import")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("MyImportSelector")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("SpringConfig")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-c7cd17fb2a024d3c9ba049ce480db723.png",alt:"image.png"}})]),a._v(" "),t("h3",{attrs:{id:"_5-6-自定义注册器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-6-自定义注册器"}},[a._v("#")]),a._v(" "),t("strong",[a._v("5.6)自定义注册器")])]),a._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-157ff3ed79314a9898a9434965ed865c.png",alt:"image.png"}}),a._v("\n需要在启动类上加 @import（类的名字）")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("名称：ImportBeanDefinitionRegistrar")])]),a._v(" "),t("li",[t("p",[a._v("类型："),t("strong",[a._v("接口")])])]),a._v(" "),t("li",[t("p",[a._v("作用：自定义bean定义注册器")])]),a._v(" "),t("li",[t("p",[a._v("范例：")]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("MyImportBeanDefinitionRegistrar")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("implements")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("ImportBeanDefinitionRegistrar")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("registerBeanDefinitions")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("AnnotationMetadata")]),a._v(" icm"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("BeanDefinitionRegistry")]),a._v(" r"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("ClassPathBeanDefinitionScanner")]),a._v(" scanner "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("ClassPathBeanDefinitionScanner")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("r"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("false")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//定义一个扫描器")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("TypeFilter")]),a._v(" tf "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("TypeFilter")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("boolean")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("match")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("MetadataReader")]),a._v(" mr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("MetadataReaderFactory")]),a._v(" mrf"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("throws")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("IOException")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n                "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("return")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n        scanner"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("addIncludeFilter")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("tf"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//scanner.addExcludeFilter(tf);")]),a._v("\n        scanner"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("scan")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"com.itheima"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br"),t("span",{staticClass:"line-number"},[a._v("13")]),t("br")])])])]),a._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-0ce16594606445fe8548b34f4d22cdf3.png",alt:"image.png"}})]),a._v(" "),t("h3",{attrs:{id:"_5-7-bean初始化过程解析"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-7-bean初始化过程解析"}},[a._v("#")]),a._v(" 5.7)bean初始化过程解析")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-06e525432cf540a89895840a3a3085a8.png",alt:"image.png"}})]),a._v(" "),t("h3",{attrs:{id:"_5-8-bean初始化过程解析"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-8-bean初始化过程解析"}},[a._v("#")]),a._v(" 5.8)bean初始化过程解析")]),a._v(" "),t("p",[a._v("下满的类，都需要交给Bean容器，容器就会自动执行")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("BeanFactoryPostProcessor")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("作用：定义了在bean"),t("strong",[a._v("工厂对象创建后")]),a._v("，bean对象创建前执行的动作，用于对工厂进行创建后业务处理")])]),a._v(" "),t("li",[t("p",[a._v("运行时机：当前操作用于对工厂进行处理，仅运行一次")])])])]),a._v(" "),t("li",[t("p",[a._v("BeanPostProcessor")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("作用：定义了所有bean初始化前后进行的统一动作，用于对bean进行创建"),t("strong",[a._v("前业务处理")]),a._v("与创建"),t("strong",[a._v("后业务处理")])])]),a._v(" "),t("li",[t("p",[a._v("运行时机：当前操作伴随着每个bean的创建过程，每次创建bean均运行该操作")])])])]),a._v(" "),t("li",[t("p",[a._v("InitializingBean")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("作用：定义了每个"),t("strong",[a._v("bean的初始化前进行")]),a._v("的动作，属于非统一性动作，用于对bean进行创建前业务处理")])]),a._v(" "),t("li",[t("p",[a._v("运行时机：当前操作伴随着任意一个bean的创建过程，保障其个性化业务处理")])])])]),a._v(" "),t("li",[t("p",[a._v("注意：上述操作均需要被spring容器加载放可运行")])])]),a._v(" "),t("h3",{attrs:{id:"_5-9-bean初始化过程解析"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-9-bean初始化过程解析"}},[a._v("#")]),a._v(" 5.9)bean初始化过程解析")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Control-body/tuChuang/2022/04/image-c9d8bdbb176d41fc9b844e7d2cc864f2.png",alt:"image.png"}})]),a._v(" "),t("h3",{attrs:{id:"_5-10-繁琐的bean初始化过程处理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-10-繁琐的bean初始化过程处理"}},[a._v("#")]),a._v(" 5.10)繁琐的bean初始化过程处理")]),a._v(" "),t("ul",[t("li",[a._v("FactoryBean\n"),t("ul",[t("li",[a._v("对单一的bean的初始化过程进行封装，达到简化配置的目的")])])])]),a._v(" "),t("p",[t("strong",[a._v("FactoryBean与BeanFactory区别")])]),a._v(" "),t("ul",[t("li",[t("p",[a._v("FactoryBean：封装单个bean的创建过程")])]),a._v(" "),t("li",[t("p",[a._v("BeanFactory：Spring容器顶层接口，定义了bean相关的获取操作(用来获取bean的)")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);